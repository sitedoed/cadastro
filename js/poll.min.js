(function(a){a(function(){a(".element-poll").each(function(){var c=a(this);var d=c.attr("data-pollId");var b=function(g){var f=g+"=";var e=document.cookie.split(";");for(var h=0;h<e.length;h++){var j=e[h];while(j.charAt(0)==" "){j=j.substring(1)}if(j.indexOf(f)!=-1){return j.substring(f.length,j.length)}}return""};if(b("fd_"+d)){a(".poll-link",c).hide();a(".poll-container",c).toggle()}c.on("click",".poll-link",function(e){e.preventDefault();a(".poll-container",c).toggle()});c.on("change","form input:radio",function(e){e.preventDefault();c.find("form").submit()});c.on("submit","form",function(g){g.preventDefault();var f=a(this);var e=f.attr("action");var h=f.serialize();a.post(e,h,null,"json").done(function(i){a.each(i.results,function(l,j){var k=a("li[data-answerId='"+l+"']",c);a(".poll-result-data",k).text(j.percent+"% ("+j.count+")");a("progress",k).val(j.percent)});a(".poll-total-vote-count",c).text(i.totalVoteCount);a(".poll-link",c).hide();a(".poll-vote-success",c).show();a(".poll-container",c).toggle()}).fail(function(i){if(i.status===403){a(".poll-container",c).toggle()}a(".poll-vote-success",c).hide();a("form",c).trigger("reset");a(".text-danger",c).show()})})})})})(jQuery);